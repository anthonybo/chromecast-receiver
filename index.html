<!DOCTYPE html>
<html>
<head>
  <title>Custom Chromecast Receiver</title>
  <script type="text/javascript" src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
  <style>
    #logs {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black */
      color: white;
      font-size: 16px;
      padding: 10px;
      white-space: pre-wrap;
      z-index: 1000; /* Ensure it's on top */
      max-height: 50%; /* Limit the height */
      overflow-y: auto; /* Add scroll if content is too long */
    }
  </style>
</head>
<body>

<div id="logs"></div>

<script>
  function log(message) {
    console.log(message); // Also log to console
    const logsElement = document.getElementById('logs');
    logsElement.textContent += message + '\n'; // Display message on screen
  }

  const context = cast.framework.CastReceiverContext.getInstance();
  const playerManager = context.getPlayerManager();

  // Listen for error events from the Player Manager
  playerManager.addEventListener(
    cast.framework.events.EventType.ERROR,
    (event) => {
      log('Error: ' + JSON.stringify(event));
    });

  context.start();
  log('Custom Chromecast Receiver started. without shaka');

  // Example: Listening to the LOAD event, just to log
  playerManager.addEventListener(
    cast.framework.events.EventType.MEDIA_STATUS,
    (event) => {
      if (event.mediaStatus && event.mediaStatus.contentId) {
        log('Loading media: ' + event.mediaStatus.contentId);
      }
  });
</script>

</body>
</html>
