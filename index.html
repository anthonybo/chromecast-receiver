<!DOCTYPE html>
<html>
<head>
  <title>Custom Chromecast Receiver</title>
  <script type="text/javascript" src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
</head>
<body>

<div id="logs"></div>

<script>
  function log(message) {
    console.log(message); // Also log to console
    const logsElement = document.getElementById('logs');
    logsElement.textContent += message + '\n'; // Display message on screen
  }

  const context = cast.framework.CastReceiverContext.getInstance();

  // Specify that Shaka Player should be used for HLS playback
  const playerOptions = {};
  playerOptions.useShakaForHls = true;

  context.start({playerOptions: playerOptions});
  log('Custom Chromecast Receiver started with Shaka Player for HLS.');

  const playerManager = context.getPlayerManager();

  // Listen for error events from the Player Manager
  playerManager.addEventListener(
    cast.framework.events.EventType.ERROR,
    (event) => {
      log('Error: ' + JSON.stringify(event));
    }
  );

  // Example: Add additional listeners and logic as needed for your application

</script>

</body>
</html>
